<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta charset="utf-8" />
		<link rel="stylesheet" href="globals.css" />
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<div class="flatened">
			<div class="overlap-wrapper">
				<div class="overlap">
					<div class="overlap-group">
						<img class="USA-map" src="img/USA_map-1.png" />
						<div class="turn-display">
							<svg class="turn-counter-background" width="110" height="58" viewBox="0 0 110 58" fill="none" xmlns="http://www.w3.org/2000/svg">
								<rect width="110" height="58" fill="#D9D9D9"/>
							</svg>
							<div class="turn-counter-text">Turn: </div>
							<div class="turn-counter-text" id="turn-counter">1</div>
						</div>
						<svg class="player-hand-backgrounds" width="1086" height="644" viewBox="0 0 1086 644" fill="none" xmlns="http://www.w3.org/2000/svg">
							<rect id="left-player-name-card" y="1" width="80" height="643" fill="#0066FF"/>
							<rect id="opposite-player-name-card" x="173" width="708" height="50" fill="#D9FF00"/>
							<rect id="right-player-name-card" x="1008" width="78" height="643" fill="#00FF2F"/>
						</svg>
						<div class="market" id="market-images">
  							<img class="market-image-1" data-index="0" src="img/Market assets/market-orange-train-car-card.png" />
  							<img class="market-image-2" data-index="1" src="img/Market assets/market-yellow-train-car-card.png" />
  							<img class="market-image-3" data-index="2" src="img/Market assets/market-blue-train-car-card.png" />
  							<img class="market-image-4" data-index="3" src="img/Market assets/market-red-train-car-card.png" />
  							<img class="market-image-5" data-index="4" src="img/Market assets/market-locomotive.png" />
  							<img class="market-deck" src="img/Market assets/market-hidden-train-car-card.png" />
  							<img class="market-destination-ticket" src="img/Market assets/market-hidden-destination-ticket.png" />
						</div>
						<div class="right-player" id="right-player">
							<div class="right-red-count" data-index="red">#</div>
							<div class="right-blue-count" data-index="blue">0</div>
							<div class="right-yellow-count" data-index="yellow">9</div>
							<div class="right-orange-count" data-index="orange">8</div>
							<div class="right-green-count" data-index="green">7</div>
							<div class="right-purple-count" data-index="purple">6</div>
							<div class="right-white-count" data-index="white">5</div>
							<div class="right-black-count" data-index="black">4</div>
							<div class="right-locomotive-count" data-index="locomotive">3</div>
							<div class="right-hidden-count" data-index="secret">2</div>
							<div class="right-destination-count" data-index="destination">1</div>
							<div class="div">
								<img class="right-black-train" src="img/right-black-train-car-card.png" />
								<img class="right-white-train" src="img/right-white-train-car-card.png" />
								<img class="right-purple-train" src="img/right-purple-train-car-card.png" />
								<img class="right-green-train" src="img/right-green-train-car-card.png" />
								<img class="right-orange-train" src="img/right-orange-train-car-card.png" />
								<img class="right-yellow-train" src="img/right-yellow-train-car-card.png" />
								<img class="right-blue-train-car" src="img/right-blue-train-car-card.png" />
								<img class="right-red-train-car" src="img/right-red-train-car-card.png" />
								<img class="right-locomotive-card" src="img/right-locomotive.png" />
								<img class="right-hidden-card" src="img/right-hidden-train-car-card.png" />
								<img class="right-destination-card" src="img/right-hidden-destination-ticket.png" />
							</div>
						</div>
						<div class="left-player" id="left-player">
							<div class="left-red-count" data-index="red">1</div>
							<div class="left-blue-count" data-index="blue">2</div>
							<div class="left-yellow-count" data-index="yellow">3</div>
							<div class="left-orange-count" data-index="orange">4</div>
							<div class="left-green-count" data-index="green">5</div>
							<div class="left-purple-count-count" data-index="purple">6</div>
							<div class="left-white-count" data-index="white">7</div>
							<div class="left-black-count" data-index="black">8</div>
							<div class="left-locomotive-count" data-index="locomotive">9</div>
							<div class="left-hidden-count" data-index="secret">0</div>
							<div class="left-destination-count" data-index="destination">#</div>
							<img class="left-black-train-car" src="img/left-black-train-car-card.png" />
							<img class="left-white-train-car" src="img/left-white-train-car-card.png" />
							<img class="left-purple-train" src="img/left-purple-train-car-card.png" />
							<img class="left-green-train-car" src="img/left-green-train-car-card.png" />
							<img class="left-orange-train" src="img/left-orange-train-car-card.png" />
							<img class="left-yellow-train" src="img/left-yellow-train-car-card.png" />
							<img class="left-blue-train-car" src="img/left-blue-train-car-card.png" />
							<img class="left-red-train-car" src="img/left-red-train-car-card.png" />
							<img class="left-locomotive-card" src="img/left-locomotive.png" />
							<img class="left-hidden-card" src="img/left-hidden-train-car-card.png" />
							<img class="left-destination-card" src="img/left-hidden-destination-ticket.png" />
						</div>
						<div class="sidebar" id="sidebar">
							<div class="overlap-2">
								<img class="sidebar-background" src="img/sidebar-background.png" />
								<div class="this-game-label">THIS GAME</div>
								<div id="leaderboard-scores">
									<div place="1" class="element-place-score">4</div>
									<div place="2" class="element-rd-place-score">3</div>
									<div place="3" class="element-nd-place-score">2</div>
									<div place="4" class="element-st-place-score">1</div>
								</div>
								<div id="leaderboard-names">
									<div place="1" class="element-st-place-name-text">Placeholder name</div>
									<div place="2" class="element-nd-place-name-text">Placeholder name</div>
									<div place="3" class="element-rd-place-name-text">Placeholder name</div>
									<div place="4" class="element-place-name-text">Placeholder name</div>
								</div>
								<div class="match-stats-label">MATCH&nbsp;&nbsp;STATS</div>
								<div id="match-stats-names">
									<div data-player-id="1" class="name-3">Player 1</div>
									<div data-player-id="2" class="name-2">Player 2</div>
									<div data-player-id="3" class="p-name">Player 3</div>
									<div data-player-id="4" class="name">Player 4</div>
								</div>
								<div id="match-stats-scores">
									<div data-player-id="1" class="score-2">1</div>
									<div data-player-id="2" class="text-wrapper">2</div>
									<div data-player-id="3" class="p-score">3</div>
									<div data-player-id="4" class="score">4</div>

								</div>
								<div id="match-stats-labels">
									<div class="label-3">Avg Score</div>
									<div class="label-2">Avg Score</div>
									<div class="p-label">Avg Score</div>
									<div class="label">Avg Score</div>
								</div>
                                <sgv class="score-background">
                                    <svg id="score-backgrounds" width="257" height="206" viewBox="0 0 257 206" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path place="1" d="M0 12C0 5.37258 5.37258 0 12 0H257V50H0V12Z" fill="#ffffff"/>
                                        <path place="2" d="M0 52H257V102H0V52Z" fill="#ffff00"/>
                                        <path place="3" d="M0 104H257V154H0V104Z" fill="#ff0000"/>
                                        <path place="4" d="M0 156H257V206H12C5.37258 206 0 200.627 0 194V156Z" fill="#f00000"/>
                                        </svg>
                                </svg>                             
							</div>
						</div>
						<div class="current-player" id="current-player">
							<div class="overlap-3">
								<img class="current-background" src="img/current-background.png" />
								<svg class='current-name-card' width="326" height="32" viewBox="0 0 326 32" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path id='current-player-name-card' d="M1 1.00002H323.787L283.182 31.2678H1V1.00002Z" fill="#FF0303" stroke="black"/>
								</svg>
								<img class="destination" src="img/destination-background.png" />
								<img class="train-counter-image" src="img/train-counter-image.png" />
								<img class="current-black-train" src="img/current-black-train-car-card.png" />
								<img class="current-white-train" src="img/current-white-train-car-card.png" />
								<img class="current-purple-train" src="img/current-purple-train-car-card.png" />
								<img class="current-green-train" src="img/current-green-train-car-card.png" />
								<img class="current-orange-train" src="img/current-orange-train-car-card.png" />
								<img class="current-yellow-train" src="img/current-yellow-train-car-card.png" />
								<img class="current-blue-train" src="img/current-blue-train-car-card.png" />
								<img class="current-red-train" src="img/current-red-train-car-card.png" />
								<img class="current-locomotive-card" src="img/current-locomotive.png" />
								<div class="current-locomotive-count" data-index="locomotive">9</div>
								<div class="current-black-count" data-index="black">8</div>
								<div class="current-white-count" data-index="white">7</div>
								<div class="current-purple-count" data-index="purple">6</div>
								<div class="current-green-count" data-index="green">5</div>
								<div class="current-orange-count" data-index="orange">4</div>
								<div class="current-yellow-count" data-index="yellow">3</div>
								<div class="current-blue-count" data-index="blue">2</div>
								<div class="current-red-count" data-index="red">1</div>
								<div id="ticket-1">
									<div data-section-id="left-city" class="ticket-city-b-4">MOSCO1</div>
									<div data-section-id="right-city" class="ticket-city-a-4">MOSCO2</div>
									<div data-section-id="ticket-score" class="ticket-score-4">1</div>
									<img data-section-id="check-mark" class="ticket-check-mark-4" src="img/check-mark.png" style="opacity: 0"/>
								</div>
								<div id="ticket-2">
									<div data-section-id="left-city" class="ticket-city-b-3">MOSCO3</div>
									<div data-section-id="right-city" class="ticket-city-a-3">MOSCO4</div>
									<div data-section-id="ticket-score" class="ticket-score-3">2</div>
									<img data-section-id="check-mark" class="ticket-check-mark-3" src="img/check-mark.png" style="opacity: 0"/>
								</div>
								<div id="ticket-3">
									<div data-section-id="left-city" class="ticket-city-b-2">MOSCO5</div>
									<div data-section-id="right-city" class="ticket-city-a-2">MOSCO6</div>
									<div data-section-id="ticket-score" class="ticket-score-2">3</div>
									<img data-section-id="check-mark" class="ticket-check-mark-2" src="img/check-mark.png" style="opacity: 0"/>
								</div>
								<div id="ticket-4">
									<div data-section-id="left-city" class="ticket-city-b">MOSCO7</div>
									<div data-section-id="right-city" class="ticket-city-a">MOSCO8</div>
									<div data-section-id="ticket-score" class="ticket-score">4</div>
									<img data-section-id="check-mark" class="ticket-check-mark" src="img/check-mark.png" style="opacity: 0"/>
								</div>
								<div id="current-player-name" class="name-text">Placeholder name</div>
								<div id="train-car-total" class="train-car-total">45</div>
								<div class="train-counter-label">Train Cars:</div>
							</div>
						</div>
                        <div class="routes">
                            <svg width="966" height="640" viewBox="0 0 966 640" fill="none" xmlns="http://www.w3.org/2000/svg">
								<g id="export route">
									<path id="Vancouver-Calgary-X" d="M89.1135 84.24C131.215 70.24 163.013 75.6 193.522 70.24" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Vancouver-Seattle-X" d="M89.1135 84.24C80.5 94.5 79.5 113 85.4105 127.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Vancouver-Seattle-X" d="M89.1134 84.24C103.5 102 93.9999 114.5 85.4104 127.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Seattle-Calgary-X" d="M85.4104 127.36C150.937 130.4 185.15 116.8 193.522 70.24" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Seattle-Helena-Y" d="M85.4104 127.36C146.322 151.413 209.273 167.707 274.263 176.24" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Seattle-Portland-X" d="M85.4106 127.36C72.0001 138 66.0001 150 67.8616 169.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Seattle-Portland-X" d="M85.4106 127.36C85.4106 148.8 81.0001 157 67.8616 169.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Portland-Salt_Lake_City-U" d="M67.8616 169.12C125.178 178.8 184.748 200.8 216.465 275.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Portland-San_Francisco-P" d="M67.8616 169.12C56.35 229.5 56.3502 277.5 56.3501 326.48" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Portland-San_Francisco-G" d="M67.8616 169.12C35.5001 216.5 43.0676 276.4 56.3501 326.48" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="San_Francisco-Salt_Lake_City-W" d="M56.3501 326.48C105.455 320 165.428 297.6 216.465 275.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="San_Francisco-Salt_Lake_City-O" d="M56.3501 326.48C108.273 298.8 189.98 275.12 216.465 275.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="San_Francisco-Los_Angeles-Y" d="M56.3501 326.48C66.5001 367 89.5001 396.5 119.301 409.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="San_Francisco-Los_Angeles-P" d="M56.3501 326.48C95.0001 354 107 388.5 119.301 409.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Los_Angeles-Las_Vegas-X" d="M119.301 409.68C131.618 363.12 140.473 363.12 171.063 363.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Los_Angeles-Phoenix-X" d="M119.301 409.68C165.428 392 192.395 403.6 215.66 415.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Los_Angeles-El_Paso-B" d="M119.301 409.68C194.408 464 247.538 460.8 311.374 445.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Calgary-Winnipeg-W" d="M193.522 70.24C268.065 46.4 317.572 40.4 373.761 79.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Calgary-Helena-X" d="M193.522 70.24C226.607 108.8 268.87 153.2 274.263 176.24" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Helena-Winnipeg-U" d="M274.263 176.24C307.912 140.4 338.1 112 373.761 79.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Helena-Salt_Lake_City-P" d="M274.264 176.24C250.597 206.64 231.33 239.6 216.465 275.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Helena-Denver-G" d="M274.263 176.24C284.567 219.547 300.372 260.773 321.678 299.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Helena-Duluth-O" d="M274.263 176.24C357.42 171.68 402.097 176.24 464.565 171.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Helena-Omaha-R" d="M274.263 176.24C342.527 207.2 379.557 223.2 440.737 245.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Salt_Lake_City-Denver-Y" d="M216.465 275.12C251 288 283.5 294.5 321.678 299.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Salt_Lake_City-Denver-R" d="M216.465 275.12C248.5 263 293.5 275.12 321.678 299.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Las_Vegas-Salt_Lake_City-O" d="M171.062 363.12C209.3 346.4 216.464 310 216.464 275.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Phoenix-Denver-W" d="M215.659 415.12C249.147 334.4 274.505 313.2 321.678 299.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Phoenix-Santa_Fe-X" d="M215.659 415.12C251.187 406.053 284.514 391.84 315.64 372.48" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Phoenix-El_Paso-X" d="M215.659 415.12C245.981 430 277.886 440 311.374 445.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Winnipeg-Sault_St._Marie-X" d="M373.761 79.12C451.605 83.2 503.93 105.6 567.525 118.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Winnipeg-Duluth-B" d="M373.761 79.12C400.058 113.787 430.326 144.64 464.565 171.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Duluth-Sault_St._Marie-X" d="M464.565 171.68C502.32 141.2 535.754 141.36 567.525 118.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Duluth-Toronto-P" d="M464.565 171.68C538.947 158 592.882 156 655.511 135.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Duluth-Chicago-R" d="M464.565 171.68C495.155 192.96 528.241 209.227 563.822 220.48" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Duluth-Omaha-X" d="M464.565 171.68C446 192 436.5 202.5 440.737 245.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Duluth-Omaha-X" d="M464.566 171.68C467.5 198 460 217.5 440.738 245.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Omaha-Chicago-U" d="M440.738 245.12C495.478 216 501.113 220.48 563.822 220.48" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Omaha-Kansas_City-X" d="M440.738 245.12C433 263 443.5 276.5 457.401 285.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Omaha-Kansas_City-X" d="M440.738 245.12C466.095 265.6 454.825 267.2 457.401 285.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Kansas_City-Saint_Louis-P" d="M457.401 285.68C480.209 290.693 503.125 291.173 526.148 287.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Kansas_City-Saint_Louis-U" d="M457.401 285.68C473 277.5 504.852 262.56 526.5 285.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Kansas_City-Oklahoma_City-X" d="M457.401 285.68C445 303.5 436 332 441.301 355.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Kansas_City-Oklahoma_City-X" d="M457.401 285.68C464.485 326.4 453.215 334.8 441.301 355.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Oklahoma_City-Little_Rock-X" d="M441.301 355.12C465.29 359.867 489.44 360.907 513.751 358.24" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Oklahoma_City-Dallas-X" d="M441.301 355.12C438 386.5 444 406.5 457.16 425.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Oklahoma_City-Dallas-X" d="M441.301 355.12C465.29 384 460.46 408 457.16 425.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Dallas-Little_Rock-X" d="M457.159 425.68C479.538 406.107 498.402 383.627 513.751 358.24" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Dallas-Houston-X" d="M457.16 425.68C460.5 445 474 453.5 490.728 457.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Dallas-Houston-X" d="M457.159 425.68C485.012 434 480.987 448 490.728 457.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Houston-New_Orleans-X" d="M490.728 457.36C516.112 457.627 541.041 454.48 565.513 447.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="El_Paso-Houston-G" d="M311.374 445.12C371.91 492.4 456.033 484 490.728 457.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="El_Paso-Dallas-R" d="M311.374 445.12C361.069 446.88 409.665 440.4 457.16 425.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="El_Paso-Oklahoma_City-Y" d="M311.374 445.12C359.352 421.76 402.661 391.76 441.301 355.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="El_Paso-Santa_Fe-X" d="M311.374 445.12C316.15 421.12 317.573 396.907 315.641 372.48" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Santa_Fe-Oklahoma_City-U" d="M315.641 372.48C358.467 373.12 400.353 367.333 441.301 355.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Oklahoma_City-Denver-R" d="M441.301 355.12C381.167 351.2 347.76 348 321.678 299.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Santa_Fe-Denver-X" d="M315.641 372.48C320.9 348.587 322.912 324.4 321.678 299.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Denver-Kansas_City-B" d="M321.678 299.92C382.5 291.5 412.5 296 457.401 285.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Denver-Kansas_City-O" d="M321.678 299.92C364.5 313.5 404 317.5 457.401 285.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Denver-Omaha-P" d="M321.678 299.92C357.42 267.2 383.18 253.2 440.737 245.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="New_Orleans-Miami-R" d="M565.512 447.92C683.042 416 657.282 424.8 744.947 477.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="New_Orleans-Atlanta-O" d="M565.512 447.92C577.587 438.8 606.165 386 643.436 345.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="New_Orleans-Atlanta-Y" d="M565.512 447.92C572.757 398.4 609.787 365.6 643.436 345.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="New_Orleans-Little_Rock-G" d="M565.512 447.92C552.364 415.707 535.11 385.813 513.751 358.24" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Little_Rock-Nashville-W" d="M513.751 358.24C545.468 349.28 575.092 335.76 602.623 317.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Little_Rock-Saint_Louis-X" d="M513.751 358.24C521.425 335.147 525.558 311.44 526.148 287.12" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Saint_Louis-Nashville-X" d="M526.148 287.12C550.03 301.2 575.521 311.387 602.623 317.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Saint_Louis-Pittsburgh-G" d="M526.148 287.12C577.775 268.187 625.404 242.08 669.035 208.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Saint_Louis-Chicago-W" d="M526.148 287.12C543.16 267.387 555.718 245.173 563.822 220.48" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Saint_Louis-Chicago-G" d="M526.148 287.12C523.5 241.5 546 237.5 563.822 220.48" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Chicago-Pittsburgh-B" d="M563.822 220.48C609.385 208.8 637.158 208.8 669.035 208.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Chicago-Pittsburgh-O" d="M563.822 220.48C602.5 182 651.5 194 669.035 208.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Chicago-Toronto-W" d="M563.822 220.48C563.822 174 637.963 172.8 655.511 135.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Sault_St._Marie-Montreal-B" d="M567.525 118.8C617.837 66.8 668.15 57.2 721.602 66.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Toronto-Montreal-X" d="M655.512 135.68C648.83 98.8 693.105 77.2 721.602 66.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Sault_St._Marie-Toronto-X" d="M567.525 118.8C596.076 128.507 625.404 134.133 655.511 135.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Toronto-Pittsburgh-X" d="M655.511 135.68C669.035 160 660.985 185.067 669.035 208.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Pittsburgh-New_York-G" d="M669.035 208.8C694.044 201.28 716.665 189.28 736.897 172.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Pittsburgh-New_York-W" d="M669.035 208.8C705.18 175.6 718.462 172.8 736.897 172.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Pittsburgh-Washington-X" d="M669.035 208.8C698.337 225.6 716.557 236.987 743.176 245.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Pittsburgh-Raleigh-X" d="M669.035 208.8C684.652 246.4 682.479 270.56 696.325 299.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Nashville-Raleigh-B" d="M602.623 317.68C650.44 280 672.175 288.8 696.325 299.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Nashville-Atlanta-X" d="M602.623 317.68C614.752 329.2 628.356 338.613 643.437 345.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Nashville-Pittsburgh-Y" d="M602.623 317.68C598.517 281.6 658.892 261.2 669.035 208.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Atlanta-Miami-U" d="M643.437 345.92C650.843 370 710.01 435.6 744.947 477.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Atlanta-Charleston-X" d="M643.437 345.92C668.231 351.947 693.347 353.867 718.785 351.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Atlanta-Raleigh-X" d="M643.437 345.92C664.206 333.92 693 313 696.325 299.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Atlanta-Raleigh-X" d="M643.437 345.92C655.5 321.5 669 309 696.325 299.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Charleston-Miami-P" d="M718.784 351.68C720.985 395.093 729.706 437.173 744.947 477.92" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Raleigh-Charleston-X" d="M696.325 299.36C740.197 327.6 730.537 326.4 718.784 351.68" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Raleigh-Washington-X" d="M696.325 299.36C711.5 294 737 262.5 743.176 245.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Raleigh-Washington-X" d="M696.325 299.36C691.5 292.5 728.5 245.36 743.176 245.36" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Washington-New_York-O" d="M744 245.5C751 228 747.977 196.787 741 173" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Washington-New_York-B" d="M743.176 245.36C739.5 225 734 203 736.897 172.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="New_York-Boston-R" d="M736.897 172.8C762.737 159.2 772.8 137.6 779.159 112.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="New_York-Boston-Y" d="M736.897 172.8C751.065 152.8 757.505 132 779.159 112.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="New_York-Montreal-U" d="M736.897 172.8C730.94 141.2 716.45 114.8 721.602 66.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Boston-Montreal-X" d="M779.16 112.8C779.16 91 744.5 57 721.602 66.8" stroke="#060606" opacity="0" stroke-width="10"/>
									<path id="Boston-Montreal-X" d="M779.16 112.8C755.5 102.5 744.5 93.5 721.602 66.8" stroke="#060606" opacity="0" stroke-width="10"/>
								</g>
							</svg>
						</div>
					</div>
					<div class="opposite-player" id="opposite-player">
						<div class="opposite-red-count" data-index="red">1</div>
						<div class="opposite-blue-count" data-index="blue">2</div>
						<div class="opposite-yellow-count" data-index="yellow">3</div>
						<div class="opposite-orange-count" data-index="orange">4</div>
						<div class="opposite-green-count" data-index="green">5</div>
						<div class="opposite-purple-count" data-index="purple">6</div>
						<div class="opposite-white-count" data-index="white">7</div>
						<div class="opposite-black-count" data-index="black">8</div>
						<div class="opposite-locomotive-count" data-index="locomotive">9</div>
						<div class="opposite-hidden-count" data-index="secret">0</div>
						<div class="opposite-destination-count" data-index="destination">#</div>
						<img class="opposite-black-train" src="img/opposite-black-train-car-card.png" />
						<img class="opposite-white-train" src="img/opposite-white-train-car-card.png" />
						<img class="opposite-purple" src="img/opposite-purple-train-car-card.png" />
						<img class="opposite-green-train" src="img/opposite-green-train-car-card.png" />
						<img class="opposite-orange" src="img/opposite-orange-train-car-card.png" />
						<img class="opposite-yellow" src="img/opposite-yellow-train-car-card.png" />
						<img class="opposite-blue-train" src="img/opposite-blue-train-car-card.png" />
						<img class="opposite-red-train" src="img/opposite-red-train-car-card.png" />
						<img class="opposite-locomotive-card" src="img/opposite-locomotive.png" />
						<img class="opposite-hidden-card" src="img/opposite-hidden-train-car-card.png" />
						<img class="opposite-destination-card" src="img/opposite-hidden-destination-ticket.png" />
					</div>
				</div>
			</div>
		</div>
		<script>
            // grabbing JSON
            logName = "test_1-test_2.json"
			let gameData = null;
			let gameDataLoaded = false;
			let turnOrder = null;

			fetch("./logs/" + logName)
			    .then(res => res.json())
			    .then(data => {
			        gameData = data;
			        document.dispatchEvent(new Event("gameDataLoaded"));
			    });

			document.addEventListener("gameDataLoaded", () => {
			    // safe to use gameData here
				gameDataLoaded = true;
				turnOrder = gameData.players.map(player => player.playerId);
				onStart();
			});
            
            const marketImages = {
			  	black: 'img/Market assets/market-black-train-car-card.png',
			  	blue: 'img/Market assets/market-blue-train-car-card.png',
				green: 'img/Market assets/market-green-train-car-card.png',
			  	locomotive: 'img/Market assets/market-locomotive.png',
				orange: 'img/Market assets/market-orange-train-car-card.png',
				purple: 'img/Market assets/market-purple-train-car-card.png',
				red: 'img/Market assets/market-red-train-car-card.png',
				white: 'img/Market assets/market-white-train-car-card.png',
			  	yellow: 'img/Market assets/market-yellow-train-car-card.png',
			}

			const playPauseImages = {
				play: '',
				pause: ''
			}

			const playerColors = { // PENDING player color assignment: update with RGB
				red: 'red',
				blue: 'blue',
				green: 'green',
				yellow: 'yellow'
			}

            // converter functions
            function playerIdConverter(playerId) {
				let turnData = gameData.rounds[currentRound].turns[currentTurn];
				let currentPlayerIndex = turnOrder.findIndex(p => p === turnData.player.playerId);
				let soughtPlayerIndex = turnOrder.findIndex(p => p === playerId);
				let turnDistance = (turnOrder.length + soughtPlayerIndex - currentPlayerIndex) % turnOrder.length
				switch (turnDistance) {
					case 0:
						return "current-player"
						break;
					case 1:
						return "left-player"
						break;
					case 2:
						return "opposite-player"
						break;
					case 3:
						return "right-player"
						break;
					default:
						return null;
						break;
				}
            }

			// global variables
			var currentTurn = 0;
			var currentRound = 0;
			let running = false;
			
			// general setter methods
			function setTurnCounter(turn) {
				const counter = document.getElementById('turn-counter');
				counter.textContent = turn;
			}

			// in case we add a display for play/pause (just delete the "// " at the beginning of each comment directly below this to enable it)
			// function togglePlayPauseDisplay() {
			// 	const display = document.getElementById('play-pause-display');
			// 	if (display.paused === "false") {
			// 		display.paused = "true";
			// 		display.src = playPauseImages[pause];
			// 	} else {
			// 		display.paused = "false";
			// 		display.src = playPauseImages[play];
			// 	}
			// }

			function setMarketCard(index, newImg) {
			  	const container = document.getElementById('market-images');
			  	const targetImg = container.querySelector(`img[data-index="${index}"]`);
				
			  	if (targetImg) {
			  	  targetImg.src = imageMap.newImg;
			  	} else {
			  	  console.warn(`No image found at data-index="${index}"`);
			  	}
			}
		
			function claimRoute(routeId, playerColor) {
				const matchingRoutes = Array.from(document.querySelectorAll(`[id=="${routeId}"]`));
				let claimed = false;

				for (const route of matchingRoutes) {
					if (route.style.opacity === '0') {
						route.style.opacity = '1';
						route.setAttribute('stroke', playerColor);
						claimed = true;
						break;
					}
				}
			
				if (!claimed) {
					throw new Error(`All routes for ${routeIdBase} are already claimed.`);
				}
			}


			function setCurrentPlayerName(name) {
				const playerName = document.getElementById("current-player-name");
				playerName.textContent = name;
			}
			
			function setTrainCarCount(count) {
				const trainCarCount = document.getElementById("train-car-total");
				trainCarCount.textContent = count;
			}

			function setDestinationTicket(ticketSlot, leftCity, rightCity, score, completed) {
				const ticket = document.getElementById(`ticket-${ticketSlot}`);
				ticket.querySelector('div[data-section-id="left-city"]').textContent = leftCity;
				ticket.querySelector('div[data-section-id="right-city"]').textContent = rightCity;
				ticket.querySelector('div[data-section-id="ticket-score"]').textContent = score;
				ticket.querySelector('img[data-section-id="check-mark"]').style.opacity = (completed? '1' : '0');
			}

			function setPlayerColor(playerId, color) {
				const colorCard = document.getElementById(`${playerIdConverter(playerId)}-name-card`);
				colorCard.setAttribute('fill', color);
			}

			function setCardCount(playerId, color, count) {
				const container = document.getElementById(playerIdConverter(playerId));
				const cardDiv = container.querySelector(`div[data-index="${color}"]`);
				if (cardDiv) {
			  	  	cardDiv.textContent = count;
			  	} else {
			  	  	console.warn(`No card found for color: ${color}`);
			  	}
			}

            function setCurrentPlayerCardCounts(playerId, hand) {
                Object.entries(hand).forEach(([color, count]) => {
                    setCardCount(playerId, color, count);
                });
            }
            
            function setOpponentCardCounts(playerId, opponentData) {
                Object.entries(opponentData.hand.public).forEach(([color, count]) => {
					setCardCount(playerId, color, count);
                });
                setCardCount(playerId, "secret", opponentData.hand.hidden);
                setCardCount(playerId, "destination", opponentData.destinationTicketCount);
            }

			// Leaderboard setters
			function setLeaderboardScore(place, score) {
				const group = document.getElementById("leaderboard-scores");
				const scoreDiv = group.querySelector(`div[place="${place}"]`);
				scoreDiv.textContent = score;
			}

			function setLeaderboardName(place, name) {
				const group = document.getElementById("leaderboard-names");
				const nameDiv = group.querySelector(`div[place="${place}"]`);
				nameDiv.textContent = name;
			}

			function setLeaderboardColor(place,color) {
				const container = document.getElementById("score-backgrounds");
				const background = container.querySelector(`path[place="${place}"]`)
				
				background.setAttribute('fill', color)
			}

			// MatchStat setters
			function setMatchStatName(playerId) {
				const matchStatDiv = document.getElementById(`match-stats-names`);
				let name = gameData.players.find(p => p.playerId === playerId).name;
				let adjustedId = gameData.players.findIndex(p => p.playerId === playerId) + 1;
				console.log("setting player ", playerId, "'s name to ", name);
				matchStatDiv.querySelector(`div[data-player-id="${adjustedId}"]`).textContent = name;
			}

			function setMatchStatScore(playerId, score) {
				const matchStatDiv = document.getElementById(`match-stats-scores`);
				let adjustedId = gameData.players.findIndex(p => p.playerId === playerId) + 1;
				matchStatDiv.querySelector(`div[data-player-id="${adjustedId}"]`).textContent = score;
			}

			// Initial setup function
			function onStart() {
				gameData.players.forEach(player => {
					setMatchStatName(player.playerId);
					turnUpdate(0);
				})
			}
			
			// clock function
			function toggleRunning() {
    			running = !running;
    			console.log(`Running is now: ${running}`);
				lastTurn = gameData.rounds[currentRound].turns.length - 1
				console.log(gameData.rounds[currentRound].turns.length, " turns in round ", currentRound, ", stopping after turn ", lastTurn)
    			if (running && currentTurn < lastTurn) {
      				intervalId = setInterval(() => {
        				currentTurn += 1;
						turnUpdate(currentTurn); 
						if(currentTurn >= lastTurn) {
							clearInterval(intervalId);
						}
  			  	  	}, 1000); // Every 1 second
  			  	} else {
  			  	  	if(intervalId) {
						clearInterval(intervalId);
					}
  			  	}
  			}

			// Input processing function
			document.addEventListener("keydown", function (event) {
				if (event.code === "Space" && gameDataLoaded) {
				  	event.preventDefault();
				  	toggleRunning();
				} else if(event.code === "ArrowLeft" && gameDataLoaded) {
					console.log(`Input ${event.code} received`);
					if (currentTurn > 0) {
                        currentTurn -= 1;
					    console.log("value decremented");
					    console.log(`calling test with input ${currentTurn}`)
					    turnUpdate(currentTurn);
					    console.log(`value of currentTurn changed to ${currentTurn}`)
                    }
				} else if(event.code === "ArrowRight" && gameDataLoaded) {
					console.log(`Input ${event.code} received`);
                    if(currentTurn < (gameData.rounds[currentRound].turns.length - 1)) {
					    currentTurn += 1;
                        console.log(`value incremented`);
					    console.log(`calling test with input ${currentTurn}`)
					    turnUpdate(currentTurn);
                    }
				}
			});

			// update display given a specific turn of the current game.
			function turnUpdate(turnNumber) {
				console.log("getting turnData for round ", currentRound, ", turn ", turnNumber);
				let turnData = gameData.rounds[currentRound].turns[turnNumber];
				console.log(turnData);
                setTurnCounter(turnNumber);

				// set current player's name
				let currentPlayer = gameData.players.find(p => p.playerId === turnData.player.playerId);
				setCurrentPlayerName(currentPlayer.name);

				// set current player's card counts
                setCurrentPlayerCardCounts(turnData.player.playerId, turnData.player.hand);

				// set current player's train car count
                setTrainCarCount(turnData.player.trainCarCount);

				// set current player's destination tickets
				turnData.player.destinationTickets.forEach((ticket, index) => {
					setDestinationTicket(index + 1, ticket.from, ticket.to, ticket.points, ticket.completed);
				})
                
				// set current player's color
				setPlayerColor(currentPlayer.playerId, playerColors[currentPlayer.color]);
				
				turnData.opponents.forEach(opponent => {
					let opponentData = gameData.players.find(p => p.playerId === opponent.playerId);
					// set opponent's card counts
					setOpponentCardCounts(opponent.playerId, opponent);
					
					// set opponent's color
					setPlayerColor(opponent.playerId, playerColors[opponentData.color]);
				});

				// update market
				turnData.gameObjects.decks.marketCards.forEach(card => {
					setMarketCard(index, marketImages.card);
				});

                // update map
				if (turnData.player.claimedRoutes.length > 0) {
					turnData.player.claimedRoutes.forEach(route => {
						claimRoute(route, currentPlayer.color);
					});
				}

				// update leaderboard
				// sort players in descending order of score
				let playerList = [turnData.player].concat(turnData.opponents)
				sortedPlayers = playerList.toSorted(function(a, b) {
					b.score - a.score
				});
				sortedPlayers.forEach((player, index) => {
					let playerData = gameData.players.find(p => p.playerId === player.playerId);
					setLeaderboardColor(index + 1, playerColors[playerData.color]);
					setLeaderboardName(index + 1, playerData.name);
					setLeaderboardScore(index + 1, player.score);
				})

				// update match stats for each player
				averages = gameData.averageScores
				averages.forEach(player => {
					let total = 0;
					player.scores.forEach(score => {
						total += score;
					});
					let avgScore = total / (player.scores.length);
					setMatchStatScore(player.playerId, avgScore);
				})
				
			}
		</script>
	</body>
</html>
